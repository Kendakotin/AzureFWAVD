<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="700" viewBox="0 0 1200 700">
<rect x="0" y="0" width="1200" height="700" fill="#0b1220"/>
<defs>
<marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth"><path d="M0,0 L10,3 L0,6 Z" fill="#60a5fa" /></marker>
</defs>
<rect x="40" y="40" width="1120" height="64" rx="14" fill="#0f172a" stroke="#1e293b"/>
<text x="58" y="80" fill="#e2e8f0" font-family="Segoe UI, Arial" font-size="22" font-weight="700">Low-level: Hub-Spoke + Azure Firewall + AVD</text>
<text x="58" y="98" fill="#94a3b8" font-family="Segoe UI, Arial" font-size="12">Implementation view • identity • network • data • ops</text>
<line x1="400.0" y1="209.0" x2="420.0" y2="209.0" stroke="#60a5fa" stroke-width="2.5" marker-end="url(#arrow)" opacity="0.9"/>
<line x1="600.0" y1="209.0" x2="315.0" y2="419.0" stroke="#60a5fa" stroke-width="2.5" marker-end="url(#arrow)" opacity="0.9"/>
<line x1="590.0" y1="419.0" x2="800.0" y2="209.0" stroke="#60a5fa" stroke-width="2.5" marker-end="url(#arrow)" opacity="0.9"/>
<line x1="590.0" y1="419.0" x2="610.0" y2="419.0" stroke="#60a5fa" stroke-width="2.5" marker-end="url(#arrow)" opacity="0.9"/>
<line x1="980.0" y1="209.0" x2="885.0" y2="419.0" stroke="#60a5fa" stroke-width="2.5" marker-end="url(#arrow)" opacity="0.9"/>
<rect x="40.0" y="124" width="360.0" height="170" rx="16" fill="#0f172a" stroke="#1e293b"/>
<text x="56.0" y="158" fill="#e2e8f0" font-family="Segoe UI, Arial" font-size="16" font-weight="700">Users</text>
<text x="62.0" y="184" fill="#94a3b8" font-family="Segoe UI, Arial" font-size="12">• Remote users</text>
<text x="62.0" y="202" fill="#94a3b8" font-family="Segoe UI, Arial" font-size="12">• MFA / Conditional Access</text>
<rect x="420.0" y="124" width="360.0" height="170" rx="16" fill="#0f172a" stroke="#1e293b"/>
<text x="436.0" y="158" fill="#e2e8f0" font-family="Segoe UI, Arial" font-size="16" font-weight="700">AVD Control Plane</text>
<text x="442.0" y="184" fill="#94a3b8" font-family="Segoe UI, Arial" font-size="12">• Microsoft-managed service</text>
<text x="442.0" y="202" fill="#94a3b8" font-family="Segoe UI, Arial" font-size="12">• Broker + gateways</text>
<rect x="800.0" y="124" width="360.0" height="170" rx="16" fill="#0f172a" stroke="#1e293b"/>
<text x="816.0" y="158" fill="#e2e8f0" font-family="Segoe UI, Arial" font-size="16" font-weight="700">Hub VNet</text>
<text x="822.0" y="184" fill="#94a3b8" font-family="Segoe UI, Arial" font-size="12">• Azure Firewall (policy)</text>
<text x="822.0" y="202" fill="#94a3b8" font-family="Segoe UI, Arial" font-size="12">• Bastion / jump</text>
<text x="822.0" y="220" fill="#94a3b8" font-family="Segoe UI, Arial" font-size="12">• DNS / Resolver</text>
<text x="822.0" y="238" fill="#94a3b8" font-family="Segoe UI, Arial" font-size="12">• ER/VPN (optional)</text>
<rect x="40.0" y="334" width="550.0" height="170" rx="16" fill="#0f172a" stroke="#1e293b"/>
<text x="56.0" y="368" fill="#e2e8f0" font-family="Segoe UI, Arial" font-size="16" font-weight="700">AVD Spoke</text>
<text x="62.0" y="394" fill="#94a3b8" font-family="Segoe UI, Arial" font-size="12">• Session hosts subnet</text>
<text x="62.0" y="412" fill="#94a3b8" font-family="Segoe UI, Arial" font-size="12">• UDR: 0.0.0.0/0 -&gt; Firewall</text>
<text x="62.0" y="430" fill="#94a3b8" font-family="Segoe UI, Arial" font-size="12">• AVD Insights</text>
<rect x="610.0" y="334" width="550.0" height="170" rx="16" fill="#0f172a" stroke="#1e293b"/>
<text x="626.0" y="368" fill="#e2e8f0" font-family="Segoe UI, Arial" font-size="16" font-weight="700">Profiles + Data</text>
<text x="632.0" y="394" fill="#94a3b8" font-family="Segoe UI, Arial" font-size="12">• Azure Files/ANF (FSLogix)</text>
<text x="632.0" y="412" fill="#94a3b8" font-family="Segoe UI, Arial" font-size="12">• Private Endpoint + Private DNS</text>
<text x="632.0" y="430" fill="#94a3b8" font-family="Segoe UI, Arial" font-size="12">• Backup/snapshots</text>
<text x="40" y="676" fill="#94a3b8" font-family="Segoe UI, Arial" font-size="11">Tip: keep endpoint allowlists and policy rules in version control (don't hardcode in diagrams).</text>
</svg>